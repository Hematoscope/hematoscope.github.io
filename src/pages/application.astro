---
import { Image } from "astro:assets";
import cells from "~src/assets/images/application/cells.png";
import slides from "~src/assets/images/application/slides.jpg";
import networking from "~src/assets/images/application/networking.jpg";
import textureMask from "~src/assets/images/application/app-texture-mask.png";
import cellList from "~src/assets/images/application/app-cell-list.png";
import report from "~src/assets/images/application/report.jpg";

import { WIDTHS } from "~src/consts";
import Section from "~src/components/Section.astro";
import H from "~src/components/HeadingLink.astro";
import Layout from "~src/layouts/Layout.astro";
import SectionCard from "~src/components/SectionCard.astro";
import CallToAction from "~src/components/CallToAction.astro";
import WorkflowStep from "~src/components/WorkflowStep.astro";
import ApplicationScroller from "~src/components/ApplicationScroller.astro";
---

<Layout title="Application | Hematoscope" description="Automate the Tedium">
  <Section variant="pair-reverse">
    <Image
      src={cells}
      alt="100 times magnified image of blood cells, with annotated bounding boxes around white blood cells labeled by the Hematoscope application."
      widths={WIDTHS}
      height="300"
    />
    <SectionCard gradient>
      <h1>A New Era</h1>
      <p class="ingress">
        Digital cytopathology streamlines workflows by fostering synergy between
        physicians and technology. With AI managing time-consuming, quantifiable
        tasks, human experts apply their clinical judgment to verify and
        interpret results. To support interpretation, Hematoscope is the first
        platform to also provide reference values for healthy subjects. Remote
        collaboration becomes effortless, enabling seamless sample evaluation
        and colleague consultations. The Hematoscope application brings digital
        cytopathology to life.
      </p>
    </SectionCard>
  </Section>

  <Section variant="blank" class="workflow">
    <H level="2">Hematoscope Workflow</H>
    <ol>
      <WorkflowStep
        image={slides}
        alt="A doctor skimming through a drawer filled with bone marrow slides."
        heading="Scan Slides"
        text="Capture cytomorphological slides using your microscope."
      />
      <WorkflowStep
        image={networking}
        alt="A rack of servers with networking cables running from one to another."
        heading="Automatic Upload"
        text="Images are securely uploaded to the cloud-based file storage."
      />
      <WorkflowStep
        image={textureMask}
        alt="A screenshot of Hematoscope application showing slide texture overlay mask."
        heading="Feature Extraction"
        text="Hematoscope analyzes key features from whole-slide and single-cell images."
      />
      <WorkflowStep
        image={cellList}
        alt="A screenshot of Hematoscope application showing a list of cells with their labels."
        heading="Physician Review"
        text="Pre-classification results are reviewed and verified by a physician."
      />
      <WorkflowStep
        image={report}
        alt="A doctor reviewing a report, holding a pen in hand."
        heading="Seamless Reporting"
        text="Share a standardized digital report directly to your laboratory information system."
      />
    </ol>
  </Section>

  <Section variant="gradient-cells">
    <H level="2">Key Features</H>

    <div class="card-grid features">
      <div class="card-item feature">
        <H level="3">Sample Triage</H>
        <p>Prioritize urgent samples with a multi-parameter risk model.</p>
      </div>
      <div class="card-item feature">
        <H level="3">Comprehensive Image View</H>
        <p>Access whole-slide images, numerical analysis, and visual masks.</p>
      </div>
      <div class="card-item feature">
        <H level="3">Single-Cell Analysis</H>
        <p>
          View single-cell images with classifications and potential dysplasia
          indicators.
        </p>
      </div>
      <div class="card-item feature">
        <H level="3">Reference Comparisons</H>
        <p>Compare results with population-scale reference ranges.</p>
      </div>
      <div class="card-item feature">
        <H level="3">Standardized Reporting</H>
        <p>
          Assess and share clinically essential findings in a structured report.
        </p>
      </div>
      <div class="card-item feature">
        <H level="3">Collaborative Sharing</H>
        <p>
          Easily share slides and cell images with colleagues for consultations
          and meetings.
        </p>
      </div>
    </div>
  </Section>

  <ApplicationScroller />

  <Section variant="gradient-cells">
    <H level="2">Frequently Asked Questions</H>

    <div class="card-grid">
      <div class="card-item faq">
        <H level="3">How can I use the Hematoscope application?</H>
        <p>
          Figma ipsum component variant main layer. Distribute underline
          subtract italic line line stroke strikethrough line ipsum.
        </p>
      </div>
      <div class="card-item faq">
        <H level="3">Can I test the Hematoscope application?</H>
        <p>
          Figma ipsum component variant main layer. Distribute underline
          subtract italic line line stroke strikethrough line ipsum.
        </p>
      </div>
      <div class="card-item faq">
        <H level="3">How robust are the algorithms?</H>
        <p>
          Figma ipsum component variant main layer. Distribute underline
          subtract italic line line stroke strikethrough line ipsum.
        </p>
      </div>
      <div class="card-item faq">
        <H level="3">
          Will the Hematoscope application replace hematopathologists?
        </H>
        <p>
          Figma ipsum component variant main layer. Distribute underline
          subtract italic line line stroke strikethrough line ipsum.
        </p>
      </div>
      <div class="card-item faq">
        <H level="3">Why should I use the Hematoscope application?</H>
        <p>
          Figma ipsum component variant main layer. Distribute underline
          subtract italic line line stroke strikethrough line ipsum.
        </p>
      </div>
      <div class="card-item faq">
        <H level="3">What types of images are supported?</H>
        <p>
          Figma ipsum component variant main layer. Distribute underline
          subtract italic line line stroke strikethrough line ipsum.
        </p>
      </div>
      <div class="card-item faq">
        <H level="3">Why is the Hematoscope application only cloud-based?</H>
        <p>
          Figma ipsum component variant main layer. Distribute underline
          subtract italic line line stroke strikethrough line ipsum.
        </p>
      </div>
      <div class="card-item faq">
        <H level="3">
          What is the price of the Hematoscope application license?
        </H>
        <p>
          Figma ipsum component variant main layer. Distribute underline
          subtract italic line line stroke strikethrough line ipsum.
        </p>
      </div>
      <div class="card-item faq">
        <H level="3">Can I use the application for research?</H>
        <p>
          Figma ipsum component variant main layer. Distribute underline
          subtract italic line line stroke strikethrough line ipsum.
        </p>
      </div>
    </div>
  </Section>

  <CallToAction title="Want to Learn More?" />
</Layout>

<style>
  .ingress {
    font-size: var(--text-size-ingress);
  }

  .workflow {
    counter-reset: step;
  }
  :global(.workflow > h2) {
    grid-column: content;
  }
  .workflow ol {
    display: grid;
    grid-template-areas: "image counter text";
    grid-template-columns: 1fr 6rem 1fr;
    column-gap: calc(2 * var(--element-padding));
    row-gap: calc(4 * var(--element-padding));
    position: relative;
  }
  .workflow ol::before {
    content: "";
    position: absolute;
    width: 1px;
    left: 50%;
    top: 8rem;
    bottom: 8rem;
    background-color: #d9d9d9;
    z-index: -1;
  }
  @media screen and (width < 70em) {
    .workflow ol {
      column-gap: calc(var(--element-padding));
    }
  }
  @media screen and (width < 50em) {
    .workflow ol {
      display: grid;
      grid-template-areas: "image text";
      grid-template-columns: 1fr 1fr;
    }
    .workflow ol::before {
      content: unset;
    }
  }

  .card-grid {
    display: flex;
    flex-wrap: wrap;
    gap: var(--element-padding);
    max-width: 70em;
  }
  .card-item {
    flex: 25rem 1 1;
    background-color: var(--background);
    padding: var(--element-padding);
    border-radius: 0.75rem;
    box-shadow: var(--shadow-lg);
  }

  .features {
    counter-reset: feature;
  }
  .feature {
    counter-increment: feature;

    display: grid;
    grid-template-areas:
      "number heading"
      "number paragraph";
    grid-template-columns: 5rem auto;
    column-gap: var(--element-padding);
    align-items: center;
  }
  .feature::before {
    content: counter(feature);
    font-size: 8rem;
    line-height: 6rem;
    font-weight: 900;
    grid-area: number;
    text-align: center;
  }
  .feature:nth-child(1)::before {
    color: var(--accent-2);
  }
  .feature:nth-child(2)::before {
    color: var(--accent-4);
  }
  .feature:nth-child(3)::before {
    color: var(--accent-5);
  }
  .feature:nth-child(4)::before {
    color: var(--accent-6);
  }
  .feature:nth-child(5)::before {
    color: var(--accent-1);
  }
  .feature:nth-child(6)::before {
    color: var(--accent-3);
  }

  .algorithms {
    max-width: 54rem;
    display: flex;
    flex-wrap: wrap;
    row-gap: calc(2 * var(--element-padding));
    column-gap: var(--element-padding);
    justify-content: center;
  }
  :global(.algorithms > *) {
    flex: 1 0 20%;
    min-width: 10rem;
  }

  .faq {
    display: grid;
    gap: 0.5em;
  }
  @media (width > 61em) {
    .faq:last-child {
      max-width: calc(50% - (var(--element-padding) / 2));
    }
  }
</style>
